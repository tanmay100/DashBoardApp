"use strict";(self["webpackChunkdashboard_frontend"]=self["webpackChunkdashboard_frontend"]||[]).push([[105],{1105:function(t,s,a){a.r(s),a.d(s,{default:function(){return m}});var e=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"modal fade",attrs:{id:"EvaluateModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[t._m(0),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"card-body"},[s("form",{on:{submit:function(s){return s.preventDefault(),t.EvaluateAssignment.apply(null,arguments)}}},[t._m(1),s("div",{staticClass:"form-group"},[s("p",[t._v(t._s(t.NewAcode))])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"aheading"}},[t._v("Heading")]),s("p",[t._v(t._s(t.NewHeading))])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"adesc"}},[t._v("Username")]),t._v(" "+t._s(t.NewUsername)+" ")]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"evaluate"}},[t._v("Evaluate")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.NewMarks,expression:"NewMarks"}],staticClass:"form-control",attrs:{type:"text",id:"evaluate",name:"evaluate",placeholder:"Enter Marks or Grade",required:""},domProps:{value:t.NewMarks},on:{input:function(s){s.target.composing||(t.NewMarks=s.target.value)}}})]),s("button",{staticClass:"btn btn-success mt-2",attrs:{"data-bs-dismiss":"modal"}},[t._v("Submit")])])])]),t._m(2)])])]),s("div",{staticClass:"mt-4"},[s("p",{staticClass:"fs-4 fw-bold"},[t._v("Select Assignment Code ")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"p-1 ms-2 me-2 pe-2 ps-2 fs-5",on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.selected=s.target.multiple?a:a[0]}}},t._l(t.Assignments,(function(a,e){return s("option",{key:e,attrs:{selected:""}},[t._v(t._s(a.acode))])})),0),s("button",{staticClass:"btn btn-success",on:{click:t.getAssignmentsByCode}},[t._v("Get Data")])]),s("div",{staticClass:"table-responsive mt-4"},[s("table",{staticClass:"table table-striped table-sm"},[t._m(3),s("tbody",{staticClass:"text-center"},t._l(t.SubmittedData,(function(a,e){return s("tr",{key:e,staticClass:"mt-2"},[s("td",[t._v(t._s(a.acode))]),s("td",[t._v(t._s(a.aheading))]),s("td",[t._v(t._s(a.username))]),s("td",[t._v(t._s(a.comments))]),s("td",[t._v(t._s(a.date.split("T")[0]))]),s("td",[t._v(t._s(a.marks))]),s("td",[s("a",{attrs:{href:a.aslink,target:"_blank"}},[s("button",{staticClass:"btn btn-info"},[t._v("Open Link")])])]),s("td",[s("button",{staticClass:"btn btn-primary",attrs:{"data-bs-toggle":"modal","data-bs-target":"#EvaluateModal"},on:{click:function(s){return t.evaluate(e)}}},[t._v("Evaluate")])])])})),0)])])])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title text-center",attrs:{id:"exampleModalLabel"}},[t._v(" Evaluate student Assignment ")]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"acode"}},[t._v("Assignment Code")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v(" Close ")])])},function(){var t=this,s=t._self._c;return s("thead",[s("tr",{staticClass:"text-center fw-bold"},[s("th",{attrs:{scope:"col"}},[t._v("A Code")]),s("th",{attrs:{scope:"col"}},[t._v("Assignment Heading")]),s("th",{attrs:{scope:"col"}},[t._v("Username")]),s("th",{attrs:{scope:"col"}},[t._v("comments")]),s("th",{attrs:{scope:"col"}},[t._v("Submitted On")]),s("th",{attrs:{scope:"col"}},[t._v("Marks")]),s("th",{attrs:{scope:"col"}},[t._v("Assignment Submitted Link")]),s("th",{attrs:{scope:"col"}},[t._v("Evaluate")])])])}],n=a(6265),l=a.n(n),o=a(86),r={name:"AssignmentStatus",data(){return{acode:"",Assignments:[],selected:"",SubmittedData:[],Marks:"",NewAcode:"",NewHeading:"",NewUsername:"",NewMarks:""}},methods:{async getAssignments(){let{data:t}=await l().get(`${o.Z.apiBaseUrl}/api/assignments/get-assignments`);this.Assignments=t},async getAssignmentsByCode(){let t=this.selected;console.log(t);let{data:s}=await l().get(`${o.Z.apiBaseUrl}/api/submissions/get-students-by-acode?acode=${t}`);console.log(s),this.SubmittedData=s},evaluate(t){this._id=this.SubmittedData[t]._id,this.NewAcode=this.SubmittedData[t].acode,this.NewHeading=this.SubmittedData[t].aheading,this.NewUsername=this.SubmittedData[t].username,this.NewMarks=this.SubmittedData[t].marks},async EvaluateAssignment(){let t={_id:this._id,marks:this.NewMarks};console.log(`data  ${t}`);let s=await l().patch(`${o.Z.apiBaseUrl}/api/submissions/evaluate-marks`,t);return this.getAssignments(),this.$toasted.show("Marks updated Click Get Data again to see updated marks"),s.data.success&&console.log("add something here"),s}},created(){this.getAssignments()}},d=r,c=a(1001),u=(0,c.Z)(d,e,i,!1,null,"884286ce",null),m=u.exports}}]);
//# sourceMappingURL=105.88f8b70c.js.map